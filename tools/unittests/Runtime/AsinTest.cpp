#if defined(__GNUC__) || defined(_MSC_VER)
#define restrict __restrict
#else
#define restrict
#endif

extern "C" {
#include <onnc/Runtime/onnc-runtime.h>
}

#undef restrict

#include "relative-error.hpp"
#include <skypat/skypat.h>
SKYPAT_F(Operator_Asin, test_asin_example) {
  const float input_0[] = {-0.5, 0.0, 0.5};
  const int32_t input_0_ndim = 1;
  const int32_t input_0_dims[] = {3};
  float output_0[3];
  const int32_t output_0_ndim = 1;
  const int32_t output_0_dims[] = {3};
  const float answer_0[] = {-0.5235988, 0.0, 0.5235988};
  ONNC_RUNTIME_asin_float(nullptr, input_0, input_0_ndim, input_0_dims,
                          output_0, output_0_ndim, output_0_dims);
  ASSERT_TRUE(relative_error(output_0, answer_0, 3) < 1e-5f);
}

SKYPAT_F(Operator_Asin, test_asin) {
  const float input_0[] = {
      0.97582054,  0.3659823,   0.14605962,  0.74769276,  0.8946889,
      0.048200615, 0.8979095,   0.8135776,   0.8578674,   0.34117585,
      0.25976595,  0.6005523,   0.5477787,   0.838769,    0.23158115,
      0.2707133,   0.46967578,  0.5742677,   0.21252006,  0.7313072,
      0.38494015,  0.7082532,   0.98033595,  0.16220085,  0.6663517,
      0.048015915, 0.21165055,  0.24014732,  0.8322956,   0.7304272,
      0.8047633,   0.54574245,  0.47100645,  0.4037369,   0.9592999,
      0.89494187,  0.044130906, 0.108601734, 0.7714513,   0.61180943,
      0.5367831,   0.64253336,  0.17577337,  0.060584962, 0.71289414,
      0.7708206,   0.077522576, 0.7881165,   0.8635898,   0.9828153,
      0.34752306,  0.63513905,  0.78454524,  0.04178564,  0.14779784,
      0.06836781,  0.93918306,  0.65616035,  0.60276747,  0.73533684};
  const int32_t input_0_ndim = 3;
  const int32_t input_0_dims[] = {3, 4, 5};
  float output_0[60];
  const int32_t output_0_ndim = 3;
  const int32_t output_0_dims[] = {3, 4, 5};
  const float answer_0[] = {
      1.3504442,   0.37468812,  0.14658399,  0.8445807,  1.1077342,
      0.048219297, 1.1149971,   0.9502787,   1.0311052,  0.34816754,
      0.26277983,  0.6441917,   0.5797069,   0.9950185,  0.2337027,
      0.27413392,  0.4889235,   0.61170936,  0.21415322, 0.82023656,
      0.39514297,  0.78702074,  1.3721567,   0.16292064, 0.72930515,
      0.048034385, 0.21326347,  0.2425176,   0.9832361,  0.81894726,
      0.9352766,   0.5772749,   0.49043137,  0.41559777, 1.2845125,
      1.1083009,   0.044145245, 0.108816355, 0.8811189,  0.65834606,
      0.5666197,   0.69779986,  0.17669131,  0.06062209, 0.7936166,
      0.88012826,  0.077600434, 0.90774304,  1.0423467,  1.3851401,
      0.35492823,  0.68818855,  0.9019624,   0.04179781, 0.14834128,
      0.068421185, 1.2202437,   0.7157193,   0.64696497, 0.8261636};
  ONNC_RUNTIME_asin_float(nullptr, input_0, input_0_ndim, input_0_dims,
                          output_0, output_0_ndim, output_0_dims);
  ASSERT_TRUE(relative_error(output_0, answer_0, 60) < 1e-5f);
}
