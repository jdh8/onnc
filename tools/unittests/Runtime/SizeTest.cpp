#include <cmath>
#include <cstdlib>
#include <ctime>
#include <skypat/skypat.h>
#include <vector>

#define restrict
extern "C" {
#include <onnc/Runtime/onnc-runtime.h>
}
SKYPAT_F(Operator_Size, test_size_example) {
  const float input_0[2][3] = {{1.0, 2.0, 3.0}, {4.0, 5.0, 6.0}};
  const int32_t input_0_ndim = 2;
  const int32_t input_0_dims[] = {2, 3};
  float output_0;
  const int32_t output_0_ndim = 0;
  const int32_t output_0_dims[] = {};
  ONNC_RUNTIME_size_float(NULL, (float *)input_0, input_0_ndim, input_0_dims,
                          &output_0, output_0_ndim, output_0_dims);
  ASSERT_TRUE(output_0 == 2 * 3);
}

SKYPAT_F(Operator_Size, test_size) {
  const float input_0[3][4][5] = {
      {{-1.7710844278335571, 0.46955007314682007, -0.31600862741470337,
        -0.9516303539276123, 0.3408069610595703},
       {0.3091384172439575, 0.1566420942544937, -0.06953200697898865,
        -0.42408353090286255, -0.36483028531074524},
       {-0.634250283241272, 1.3767764568328857, -0.2646780014038086,
        -0.3118327558040619, 1.2301133871078491},
       {-0.32005971670150757, -0.786973237991333, 1.2580918073654175,
        0.19189532101154327, 0.7509522438049316}},
      {{-0.5697816014289856, -0.31159815192222595, -0.07920869439840317,
        -1.0511105060577393, 0.5727506875991821},
       {0.761161744594574, -0.6132095456123352, -0.5140243172645569,
        -0.11628691852092743, 0.17998498678207397},
       {1.495865821838379, 2.8048384189605713, -1.5874391794204712,
        -1.2180637121200562, 0.05129099264740944},
       {-0.47357404232025146, -0.4411223530769348, 1.43797767162323,
        0.16457155346870422, -0.3848015069961548}},
      {{-0.8463636636734009, -0.37369799613952637, -0.1448705494403839,
        -1.1582072973251343, -0.15056352317333221},
       {1.7096846103668213, 1.129859209060669, 0.7212907671928406,
        -0.2357080578804016, -1.3067165613174438},
       {0.3576979637145996, 0.996917188167572, 0.6221945285797119,
        0.21722927689552307, 1.7608246803283691},
       {0.8685482144355774, -0.06025636941194534, 1.0573819875717163,
        0.027687618508934975, 1.4837656021118164}}};
  const int32_t input_0_ndim = 3;
  const int32_t input_0_dims[] = {3, 4, 5};
  float output_0;
  const int32_t output_0_ndim = 0;
  const int32_t output_0_dims[] = {};
  ONNC_RUNTIME_size_float(NULL, (float *)input_0, input_0_ndim, input_0_dims,
                          &output_0, output_0_ndim, output_0_dims);
  ASSERT_TRUE(output_0 == 3 * 4 * 5);
}
