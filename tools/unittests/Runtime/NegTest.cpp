#if defined(__GNUC__) || defined(_MSC_VER)
#define restrict __restrict
#else
#define restrict
#endif

extern "C" {
#include <onnc/Runtime/onnc-runtime.h>
}

#undef restrict

#include "relative-error.hpp"
#include <skypat/skypat.h>
SKYPAT_F(Operator_Neg, test_neg_example) {
  const float input_0[] = {-4.0, 2.0};
  const int32_t input_0_ndim = 1;
  const int32_t input_0_dims[] = {2};
  float output_0[2];
  const int32_t output_0_ndim = 1;
  const int32_t output_0_dims[] = {2};
  const float answer_0[] = {4.0, -2.0};
  ONNC_RUNTIME_neg_float(nullptr, input_0, input_0_ndim, input_0_dims, output_0,
                         output_0_ndim, output_0_dims);
  ASSERT_TRUE(relative_error(output_0, answer_0, 2) < 1e-5f);
}

SKYPAT_F(Operator_Neg, test_neg) {
  const float input_0[] = {
      -0.05443981, -0.58243483, 0.81269294,   -2.7559333,  0.14484501,
      1.2906916,   -0.1340529,  -1.128762,    -1.3056995,  -0.61395186,
      -0.48414588, -0.04493097, 0.18766238,   -1.4712832,  -0.47078386,
      2.5063546,   1.1293077,   0.40635675,   -0.11745164, -0.7771016,
      2.303404,    -0.8874787,  -0.2866545,   0.78475165,  -2.81518,
      -0.7102119,  0.10926748,  1.0344247,    0.94680756,  -1.0242078,
      -1.1681098,  0.15658751,  -0.008709984, -0.15731353, -0.61802006,
      0.5086923,   -0.99759024, 0.2264974,    -0.8904425,  -0.3369951,
      0.22483873,  -1.4684409,  -0.90317637,  1.352094,    -1.055269,
      -0.935317,   -1.6621146,  -1.1400198,   -0.65700275, 0.8239581,
      0.39443746,  1.337833,    0.2908149,    -0.41683954, -1.06669,
      -0.5322433,  0.39068562,  1.0947348,    -1.1080887,  0.5131736};
  const int32_t input_0_ndim = 3;
  const int32_t input_0_dims[] = {3, 4, 5};
  float output_0[60];
  const int32_t output_0_ndim = 3;
  const int32_t output_0_dims[] = {3, 4, 5};
  const float answer_0[] = {
      0.05443981,  0.58243483,  -0.81269294, 2.7559333,   -0.14484501,
      -1.2906916,  0.1340529,   1.128762,    1.3056995,   0.61395186,
      0.48414588,  0.04493097,  -0.18766238, 1.4712832,   0.47078386,
      -2.5063546,  -1.1293077,  -0.40635675, 0.11745164,  0.7771016,
      -2.303404,   0.8874787,   0.2866545,   -0.78475165, 2.81518,
      0.7102119,   -0.10926748, -1.0344247,  -0.94680756, 1.0242078,
      1.1681098,   -0.15658751, 0.008709984, 0.15731353,  0.61802006,
      -0.5086923,  0.99759024,  -0.2264974,  0.8904425,   0.3369951,
      -0.22483873, 1.4684409,   0.90317637,  -1.352094,   1.055269,
      0.935317,    1.6621146,   1.1400198,   0.65700275,  -0.8239581,
      -0.39443746, -1.337833,   -0.2908149,  0.41683954,  1.06669,
      0.5322433,   -0.39068562, -1.0947348,  1.1080887,   -0.5131736};
  ONNC_RUNTIME_neg_float(nullptr, input_0, input_0_ndim, input_0_dims, output_0,
                         output_0_ndim, output_0_dims);
  ASSERT_TRUE(relative_error(output_0, answer_0, 60) < 1e-5f);
}
